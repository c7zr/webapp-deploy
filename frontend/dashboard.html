<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWATNFO - Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/update-notification.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand"></div>
            <ul class="nav-menu">
                <li><a href="dashboard.html" class="active">Dashboard</a></li>
                <li><a href="reporting.html">Report</a></li>
                <li><a href="history.html">History</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="tos.html">Terms</a></li>
            </ul>
            <div class="profile-dropdown" id="profileDropdown">
                <div class="profile-button" id="profileButton">
                    <div class="profile-avatar" id="profileAvatar">U</div>
                    <span class="profile-name" id="profileName">User</span>
                    <span class="profile-arrow">‚ñº</span>
                </div>
                <div class="dropdown-menu">
                    <div class="dropdown-header">
                        <div class="username" id="dropdownUsername">User</div>
                        <div class="role" id="dropdownRole">user</div>
                    </div>
                    <a href="/settings.html" class="dropdown-item">
                        <i>‚öôÔ∏è</i>
                        <span>Settings</span>
                    </a>
                    <a href="/admin.html" class="dropdown-item" id="adminLink" style="display: none;">
                        <i>üëë</i>
                        <span>Admin Panel</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" onclick="logout(); return false;" class="dropdown-item logout">
                        <i>üö™</i>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>
    
    <div class="dashboard-container-new">
        <!-- Hero Section with Floating Stats -->
        <div class="hero-section">
            <div class="hero-content">
                <div class="greeting-wrapper">
                    <span class="greeting-label">Welcome back</span>
                    <h1 class="hero-title" id="username">User</h1>
                </div>
                <p class="hero-subtitle">Your reporting command center</p>
            </div>
            
            <!-- Floating Premium Badge -->
            <div class="floating-premium" id="premiumBadge" style="display: none;">
                <div class="premium-glow"></div>
                <span class="premium-icon">‚≠ê</span>
                <span class="premium-text">Premium Active</span>
            </div>
        </div>

        <!-- Asymmetric Stats Grid -->
        <div class="stats-grid-new">
            <div class="stat-box stat-large" data-stat="total">
                <div class="stat-bg-pattern"></div>
                <div class="stat-header">
                    <span class="stat-icon-new">üìä</span>
                    <span class="stat-label-new">Total Reports</span>
                </div>
                <div class="stat-number" id="totalReports">0</div>
                <div class="stat-sparkline"></div>
            </div>

            <div class="stat-box stat-medium" data-stat="success">
                <div class="stat-bg-pattern"></div>
                <div class="stat-header">
                    <span class="stat-icon-new">‚úÖ</span>
                    <span class="stat-label-new">Successful</span>
                </div>
                <div class="stat-number success" id="successfulReports">0</div>
                <div class="stat-rate" id="successRate">0% rate</div>
            </div>

            <div class="stat-box stat-medium" data-stat="failed">
                <div class="stat-bg-pattern"></div>
                <div class="stat-header">
                    <span class="stat-icon-new">‚ùå</span>
                    <span class="stat-label-new">Failed</span>
                </div>
                <div class="stat-number danger" id="failedReports">0</div>
            </div>

            <div class="stat-box stat-small" data-stat="targets">
                <div class="stat-bg-pattern"></div>
                <div class="stat-header">
                    <span class="stat-icon-new">üéØ</span>
                    <span class="stat-label-new">Targets</span>
                </div>
                <div class="stat-number info" id="targetsReported">0</div>
            </div>
        </div>

        <!-- Action Cards with Morphing Design -->
        <div class="actions-grid">
            <a href="/reporting.html?mode=single" class="action-tile tile-primary">
                <div class="tile-glow"></div>
                <div class="tile-icon">‚ö°</div>
                <div class="tile-content">
                    <h3>Quick Report</h3>
                    <p>Instant single-target reporting</p>
                </div>
                <div class="tile-arrow">‚Üí</div>
            </a>

            <a href="/reporting.html?mode=bulk" class="action-tile tile-secondary">
                <div class="tile-glow"></div>
                <div class="tile-icon">üì¶</div>
                <div class="tile-content">
                    <h3>Bulk Report</h3>
                    <p>Multiple targets at once</p>
                </div>
                <div class="tile-arrow">‚Üí</div>
            </a>

            <a href="/reporting.html?mode=schedule" class="action-tile tile-accent">
                <div class="tile-glow"></div>
                <div class="tile-icon">‚è∞</div>
                <div class="tile-content">
                    <h3>Schedule</h3>
                    <p>Automated future reports</p>
                </div>
                <div class="tile-arrow">‚Üí</div>
            </a>
        </div>

        <!-- Activity Stream -->
        <div class="activity-stream">
            <div class="stream-header">
                <h2>Recent Activity</h2>
                <a href="/history.html" class="stream-link">View All ‚Üí</a>
            </div>
            <div id="activityList" class="stream-list">
                <div class="stream-loading">
                    <div class="pulse-loader"></div>
                    <p>Loading activity...</p>
                </div>
            </div>
        </div>

        <div class="watermark">Made by SWATNFO</div>
    </div>
    
    <script src="js/config.js"></script>
    <script src="js/announcement.js"></script>
    <script src="js/dashboard.js"></script>
    <script>
        // Show announcement immediately on page load
        if (localStorage.getItem('token')) {
            showAnnouncement();
        }
    </script>
</body>
</html>
